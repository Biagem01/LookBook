
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LookBook - Scambia i tuoi vestiti</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Mono:ital,wght@0,200..800;1,200..800&family=Bebas+Neue&family=Dosis:wght@200..800&family=Libertinus+Mono&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Playfair+Display+SC:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Special+Gothic+Expanded+One&family=Syne+Mono&family=Yuji+Syuku&display=swap" rel="stylesheet">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-logo">LookBook</h1>
            <div class="nav-buttons" id="navButtons">
                <button id="loginBtn" class="btn btn-outline">Accedi</button>
                <button id="registerBtn" class="btn btn-primary">Registrati</button>
                <div id="userMenu" class="user-menu hidden">
                <div class="user-dropdown-toggle" id="userNameContainer">
                    <div id="userNameContainer" class="user-name-clickable">
                    <span id="userName"></span>
                    <span id="userArrow" style="margin-left: 5px;">‚ñº</span>
                    </div>

                    <div id="userDropdownMenu" class="dropdown hidden">
                        <button id="myListingsBtn">üì¶ I miei Prodotti</button>
                        <button id="mySwapsBtn">üîÅ Proposte Scambi</button>
                        <button id="myPurchasesBtn">üõí Prodotti acquistati</button>
                    </div>
                </div>
                <button id="logoutBtn" class="btn btn-outline">Esci</button>
            </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section id="heroSection" class="hero">
            <div class="hero-content">
                <h2>Benvenuto su LookBook</h2>
                <p>La piattaforma per vendere e scambiare vestiti usati</p>
                <button id="exploreBtn" class="btn btn-large">Esplora i Prodotti</button>
            </div>
        </section>

        <!-- Products Section -->
        <section id="productsSection" class="products-section">
            <div class="section-header">
                <h2>Prodotti Disponibili</h2>
                <div class="filters">
                    <select id="disponibileFilter">
                        <option value="">Tutti</option>
                        <option value="true">Disponibili</option>
                        <option value="false">Non Disponibili</option>
                    </select>
                    <input type="date" id="dateFromFilter" placeholder="Da data">
                    <input type="date" id="dateToFilter" placeholder="A data">
                    <button id="applyFilters" class="btn btn-secondary">Applica Filtri</button>
                </div>
                <button id="addProductBtn" class="btn btn-primary hidden">Aggiungi Prodotto</button>
            </div>
            <div id="productsGrid" class="products-grid">
                <!-- Products will be loaded here -->
            </div>
        </section>

        <!-- My Products Section -->
        <section id="myProductsSection" class="products-section hidden">
            <div class="section-header">
                <h2>I miei prodotti in vendita</h2>
                <button id="backToMainFromMyProducts" class="btn btn-secondary">Torna ai prodotti generali</button>
            </div>
            <div id="myProductsGrid" class="products-grid">
                <!-- My products will be loaded here -->
            </div>
        </section>

            <!-- Swaps Section -->
            
        <section id="swapsSection" class="swaps-section hidden">
             
            <div class="section-header">
                <h2>I Miei Scambi</h2>
                <button id="backToMainFromSwaps" class="btn btn-secondary">Torna ai prodotti generali</button>
            </div>

            <h3>Scambi Ricevuti</h3>
            <div id="receivedSwapsContainer" class="swaps-grid">
                <!-- Scambi ricevuti caricati qui -->
            </div>

            <h3>Scambi Inviati</h3>
            <div id="sentSwapsContainer" class="swaps-grid">
                <!-- Scambi inviati caricati qui -->
            </div>

                
            <h3>Scambi Accettati</h3>
           <div id="acceptedSwapsContainer" class="swaps-grid">

           </div>
    
        </section>
    </main>

    <!-- Modals -->
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Accedi</h2>
            <form id="loginForm">
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button type="submit" class="btn btn-primary">Accedi</button>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Registrati</h2>
            <form id="registerForm">
                <input type="text" id="registerNome" placeholder="Nome" required>
                <input type="text" id="registerCognome" placeholder="Cognome" required>
                <input type="email" id="registerEmail" placeholder="Email" required>
                <input type="password" id="registerPassword" placeholder="Password" required>
                <button type="submit" class="btn btn-primary">Registrati</button>
            </form>
        </div>
    </div>

    <!-- Add Product Modal -->
<div id="addProductModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="productFormTitle">Aggiungi Prodotto</h2>
        <form id="addProductForm" enctype="multipart/form-data">
            <!-- Campo nascosto per ID prodotto (solo in modifica) -->
            <input type="hidden" id="editingProductId">

            <input type="text" id="productNome" placeholder="Nome prodotto" required>
            <textarea id="productDescrizione" placeholder="Descrizione"></textarea>
            <input type="text" id="productTaglia" placeholder="Taglia">
            <input type="text" id="productMarca" placeholder="Marca">

            <select id="productCondizione">
                <option value="nuovo">Nuovo</option>
                <option value="ottimo">Ottimo</option>
                <option value="buono" selected>Buono</option>
                <option value="discreto">Discreto</option>
            </select>

            <input type="number" id="productPrezzo" placeholder="Prezzo (‚Ç¨)" step="0.01">
            <input type="file" id="productImages" multiple accept="image/*">

            <!-- CAMPO DISPONIBILIT√Ä (mostrato solo in modalit√† modifica) -->
            <label for="productDisponibile" id="disponibileLabel" class="hidden">Disponibilit√†</label>
            <select id="productDisponibile" class="hidden">
                <option value="true">Disponibile</option>
                <option value="false">Non disponibile</option>
            </select>

            <button type="submit" class="btn btn-primary">Aggiungi Prodotto</button>
        </form>
    </div>
</div>



    <!-- Product Detail Modal -->
    <div id="productDetailModal" class="modal">
        <div class="modal-content large">
            <span class="close">&times;</span>
            <div id="productDetailContent">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Create Swap Modal -->
    <div id="createSwapModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Proponi Scambio</h2>
            <form id="createSwapForm">
                <div id="swapProductInfo"></div>
                <select id="myProductSelect" required>
                    <option value="">Seleziona il tuo prodotto da offrire</option>
                </select>
                <textarea id="swapMessage" placeholder="Messaggio (opzionale)"></textarea>
                <button type="submit" class="btn btn-primary">Proponi Scambio</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
